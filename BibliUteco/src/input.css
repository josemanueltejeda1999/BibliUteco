@tailwind base;
@tailwind components;
@tailwind utilities;

/* Variables y resets ligeros */
@layer base {
  html, body {
    @apply bg-gray-50 text-gray-800 antialiased;
  }
}

/* Componentes: aplicamos utilidades a las clases existentes (sin tocar HTML) */
@layer components {
  /* Sidebar / branding */
  .bg-bibliuteco,
  .sidebar {
    @apply bg-bibliu text-white h-screen overflow-y-auto;
  }

  .navbar-brand {
    @apply text-white font-extrabold text-lg tracking-tight;
  }

  .user-info-section {
    @apply bg-white/6 rounded-lg mb-3 p-2;
  }
  .user-avatar {
    @apply w-11 h-11 rounded-lg bg-white/8 text-white flex items-center justify-center text-xl;
  }

  /* Nav links — mantiene .nav-link-custom en tus .razor sin tocarlas */
  .nav-scrollable .nav-link.nav-link-custom,
  .nav-scrollable .nav-link.nav-link-custom:link,
  .nav-scrollable .nav-link.nav-link-custom:visited {
    @apply text-white/95 flex items-center gap-3 px-4 py-2 my-1 rounded-lg font-semibold transition-transform transform;
  }
  .nav-scrollable .nav-link.nav-link-custom i,
  .nav-scrollable .nav-link.nav-link-custom .nav-icon {
    @apply text-white text-xl w-7 flex items-center justify-center;
  }
  .nav-scrollable .nav-link.nav-link-custom:hover {
    @apply translate-x-1 bg-white/8;
  }
  .nav-scrollable .nav-link.nav-link-custom.active,
  .nav-scrollable .nav-link.nav-link-custom[aria-current="page"] {
    @apply bg-white/12;
  }

  /* App container: tarjeta grande que rodea contenido principal */
  .app-container {
    @apply w-full max-w-5xl mx-auto p-5 bg-white rounded-xl shadow-soft;
  }

  /* Topbar */
  .topbar {
    @apply h-16 flex items-center gap-4 px-3 border-b border-gray-100 bg-transparent;
  }

  /* Main + content */
  .main {
    @apply w-full;
  }
  .main-content {
    @apply p-0 bg-transparent flex flex-col min-h-[calc(100vh-64px)];
  }

  /* Tarjetas de dashboard */
  .dashboard-stats-card,
  .dashboard-card {
    @apply bg-white rounded-xl p-6 shadow-soft transition-transform;
  }
  .dashboard-stats-card:hover,
  .dashboard-card:hover {
    @apply -translate-y-1 shadow-softHover;
  }

  /* Estadísticas: icono, número y etiqueta */
  .stats-icon {
    @apply w-12 h-12 rounded-lg flex items-center justify-center mb-3 text-xl;
  }
  .stats-icon.books { @apply bg-green-100 text-bibliu; }
  .stats-icon.loans { @apply bg-blue-100 text-blue-600; }
  .stats-icon.categories { @apply bg-yellow-100 text-yellow-600; }
  .stats-icon.readers { @apply bg-violet-100 text-violet-600; }

  .stats-number { @apply text-4xl font-extrabold text-gray-900 mb-1; }
  .stats-label { @apply text-base font-semibold text-gray-500; }

  /* Grid */
  .dashboard-stats-grid {
    @apply grid gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2;
  }
}

/* Responsivo extra (por si algún Bootstrap fuerza anchuras) */
@layer utilities {
  .shadow-soft { box-shadow: 0 6px 18px rgba(15,23,42,0.06); }
  .shadow-softHover { box-shadow: 0 12px 30px rgba(15,23,42,0.09); }
}

/* Componentes que usan Tailwind ahora necesitan el prefijo tw- */
@layer components {
  .dashboard-stats-card {
    @apply tw-bg-white tw-rounded-xl tw-p-6 tw-shadow-soft;
  }
  
  .stats-icon {
    @apply tw-w-12 tw-h-12 tw-rounded-lg tw-flex tw-items-center tw-justify-center tw-mb-3;
  }
}

/* Ejemplo de uso mixto seguro */
.container { /* Bootstrap container */
  @apply px-4 mx-auto;
}

.row { /* Bootstrap row */
  @apply -mx-4 flex flex-wrap;
}

.col-md-6 { /* Bootstrap col + Tailwind */
  @apply px-4 mb-8;

  &.tw-bg-white {
    @apply bg-white rounded-lg shadow-md;
  }
}